<!DOCTYPE html>
<html>
  <body>
    <h1>Login Page</h1>

    <input id="name" placeholder="Enter your name" />
    <button id="loginBtn">Login</button>

    <script>
      // OBJECT: localStorage
      // EVENT: page load
      const savedUser = localStorage.getItem("username");
      if (savedUser) {
        window.location.href = "/chat";
      }

      // OBJECT: button
      // EVENT: click
      document
        .getElementById("loginBtn")
        .addEventListener("click", () => {
          const name = document.getElementById("name").value.trim();

          if (!name) {
            alert("Please enter a name");
            return;
          }

          // store identity
          localStorage.setItem("username", name);

          // move to chat
          window.location.href = "/chat";
        });
    </script>
  </body>
</html>
